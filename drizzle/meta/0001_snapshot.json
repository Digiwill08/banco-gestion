{
  "version": "5",
  "dialect": "mysql",
  "id": "b88572d2-4bbc-481a-801f-bed1bc0e8761",
  "prevId": "3c3a03ea-b871-416a-b531-aa772cca8b00",
  "tables": {
    "bank_users": {
      "name": "bank_users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "authUserId": {
          "name": "authUserId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "idRelacionado": {
          "name": "idRelacionado",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "nombreCompleto": {
          "name": "nombreCompleto",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "idIdentificacion": {
          "name": "idIdentificacion",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "correoElectronico": {
          "name": "correoElectronico",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "telefono": {
          "name": "telefono",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fechaNacimiento": {
          "name": "fechaNacimiento",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "direccion": {
          "name": "direccion",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rolSistema": {
          "name": "rolSistema",
          "type": "enum('cliente_persona','cliente_empresa','empleado_ventanilla','empleado_comercial','empleado_empresa','supervisor_empresa','analista_interno')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "estadoUsuario": {
          "name": "estadoUsuario",
          "type": "enum('activo','inactivo','bloqueado')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'activo'"
        },
        "passwordHash": {
          "name": "passwordHash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "empresaId": {
          "name": "empresaId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "bank_users_id": {
          "name": "bank_users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "bank_users_idIdentificacion_unique": {
          "name": "bank_users_idIdentificacion_unique",
          "columns": [
            "idIdentificacion"
          ]
        }
      },
      "checkConstraint": {}
    },
    "bitacora": {
      "name": "bitacora",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "tipoOperacion": {
          "name": "tipoOperacion",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fechaHoraOperacion": {
          "name": "fechaHoraOperacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "idUsuario": {
          "name": "idUsuario",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rolUsuario": {
          "name": "rolUsuario",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "idProductoAfectado": {
          "name": "idProductoAfectado",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "datosDetalle": {
          "name": "datosDetalle",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "bitacora_id": {
          "name": "bitacora_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "clientes_empresa": {
      "name": "clientes_empresa",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "bankUserId": {
          "name": "bankUserId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "razonSocial": {
          "name": "razonSocial",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nit": {
          "name": "nit",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "correoElectronico": {
          "name": "correoElectronico",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "telefono": {
          "name": "telefono",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "direccion": {
          "name": "direccion",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "representanteLegalId": {
          "name": "representanteLegalId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "clientes_empresa_id": {
          "name": "clientes_empresa_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "clientes_empresa_nit_unique": {
          "name": "clientes_empresa_nit_unique",
          "columns": [
            "nit"
          ]
        }
      },
      "checkConstraint": {}
    },
    "clientes_persona": {
      "name": "clientes_persona",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "bankUserId": {
          "name": "bankUserId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nombreCompleto": {
          "name": "nombreCompleto",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "numeroIdentificacion": {
          "name": "numeroIdentificacion",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "correoElectronico": {
          "name": "correoElectronico",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "telefono": {
          "name": "telefono",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fechaNacimiento": {
          "name": "fechaNacimiento",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "direccion": {
          "name": "direccion",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "clientes_persona_id": {
          "name": "clientes_persona_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "clientes_persona_numeroIdentificacion_unique": {
          "name": "clientes_persona_numeroIdentificacion_unique",
          "columns": [
            "numeroIdentificacion"
          ]
        }
      },
      "checkConstraint": {}
    },
    "cuentas_bancarias": {
      "name": "cuentas_bancarias",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "numeroCuenta": {
          "name": "numeroCuenta",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tipoCuenta": {
          "name": "tipoCuenta",
          "type": "enum('ahorros','corriente','personal','empresarial')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "idTitular": {
          "name": "idTitular",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "saldoActual": {
          "name": "saldoActual",
          "type": "decimal(15,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'0.00'"
        },
        "moneda": {
          "name": "moneda",
          "type": "enum('COP','USD','EUR')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'COP'"
        },
        "estadoCuenta": {
          "name": "estadoCuenta",
          "type": "enum('activa','bloqueada','cancelada')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'activa'"
        },
        "fechaApertura": {
          "name": "fechaApertura",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "abiertaPorId": {
          "name": "abiertaPorId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "cuentas_bancarias_id": {
          "name": "cuentas_bancarias_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "cuentas_bancarias_numeroCuenta_unique": {
          "name": "cuentas_bancarias_numeroCuenta_unique",
          "columns": [
            "numeroCuenta"
          ]
        }
      },
      "checkConstraint": {}
    },
    "prestamos": {
      "name": "prestamos",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "tipoPrestamo": {
          "name": "tipoPrestamo",
          "type": "enum('personal','hipotecario','vehiculo','empresarial','consumo')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "idClienteSolicitante": {
          "name": "idClienteSolicitante",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "montoSolicitado": {
          "name": "montoSolicitado",
          "type": "decimal(15,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "montoAprobado": {
          "name": "montoAprobado",
          "type": "decimal(15,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tasaInteres": {
          "name": "tasaInteres",
          "type": "decimal(5,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "plazoMeses": {
          "name": "plazoMeses",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "estadoPrestamo": {
          "name": "estadoPrestamo",
          "type": "enum('en_estudio','aprobado','rechazado','desembolsado')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'en_estudio'"
        },
        "fechaAprobacion": {
          "name": "fechaAprobacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fechaDesembolso": {
          "name": "fechaDesembolso",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cuentaDestinoDesembolso": {
          "name": "cuentaDestinoDesembolso",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "creadoPorId": {
          "name": "creadoPorId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "aprobadoPorId": {
          "name": "aprobadoPorId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "motivoRechazo": {
          "name": "motivoRechazo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "prestamos_id": {
          "name": "prestamos_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "productos_bancarios": {
      "name": "productos_bancarios",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "codigoProducto": {
          "name": "codigoProducto",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nombreProducto": {
          "name": "nombreProducto",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "categoria": {
          "name": "categoria",
          "type": "enum('cuentas','prestamos','servicios')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "requiereAprobacion": {
          "name": "requiereAprobacion",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "productos_bancarios_id": {
          "name": "productos_bancarios_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "productos_bancarios_codigoProducto_unique": {
          "name": "productos_bancarios_codigoProducto_unique",
          "columns": [
            "codigoProducto"
          ]
        }
      },
      "checkConstraint": {}
    },
    "transferencias": {
      "name": "transferencias",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "cuentaOrigen": {
          "name": "cuentaOrigen",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cuentaDestino": {
          "name": "cuentaDestino",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "monto": {
          "name": "monto",
          "type": "decimal(15,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fechaCreacion": {
          "name": "fechaCreacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "fechaAprobacion": {
          "name": "fechaAprobacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "estadoTransferencia": {
          "name": "estadoTransferencia",
          "type": "enum('ejecutada','en_espera_aprobacion','rechazada','vencida')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'ejecutada'"
        },
        "idUsuarioCreador": {
          "name": "idUsuarioCreador",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "idUsuarioAprobador": {
          "name": "idUsuarioAprobador",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "concepto": {
          "name": "concepto",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "transferencias_id": {
          "name": "transferencias_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "columns": [
            "openId"
          ]
        }
      },
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}